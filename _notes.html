<!DOCTYPE html>
<html>
  <head>
    <style>
      .content {
        background-color: #e9e9e9;
        min-width: 700px;
        max-width: 900px;
      }

      h1,
      h2,
      h3 {
        padding: 10px 0 10px;
      }

      #ul-space {
        padding: 0 0 0 20px;
      }

      p {
        padding: 10px;
      }

      code-block {
        max-width: 600px;
        margin: 20px 0 20px 0;
        padding: 0px;
      }

      .figure-image-div {
        margin-top: 5px;
        margin-bottom: 5px;
      }

      .figure-image-div img {
        border: 1px #000000 solid;
        max-height: 1200px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        display: block;
        margin-top: 30px;
      }

      figcaption {
        max-width: 800px;
        font-style: italic;
        padding: 2px;
        text-align: center;
        margin: 5px 0 10px 0;
      }

      .text-red {
        color: red;
        font-weight: bold;
      }

      .print-button {
        float: right;
        margin: 15px;
        padding: 2px;
        position: sticky;
        top: 10px;
        background-color: white;
        border: 1px solid black;
      }

      code {
        background-color: #272822;
        color: #f8f8f2;
        border-radius: 0.3em;
        padding: 4px 5px 6px;
        margin: 1px;
        display: inline-block;
      }

      table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
        margin: auto;
        text-align: center;
        padding: 5px;
      }

      table {
        max-width: 800px;
        margin-top: 5px;
        margin-bottom: 5px;
      }

      tr:nth-child(even) {
        background-color: #b1b1b1;
      };


      code-block {
        border: 1px solid black;
      }

      blockquote {
        background: rgb(215, 215, 215);
        padding: 20px 5px 20px 5px;
        margin: 10px;
        font-style: italic;
      }
    </style>

    <!-- Javascript imports -->
    <!-- https://www.npmjs.com/package/@heppokofrontend/html-code-block-element -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/vs.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@heppokofrontend/html-code-block-element/lib/html-code-block-element.common.min.js"
      defer
    ></script>

    <!-- FontAwsome -->
    <script src="https://use.fontawesome.com/4f2944df7b.js"></script>

    <!-- Print content -->
    <script src="static/js/print.js"></script>

    <!-- Link for sidebar -->
    <!-- https://www.codingflicks.com/2021/07/sidebar-menu-using-only-html-css.html -->
    <link rel="stylesheet" href="static\css\sidebar.css" />
  </head>

  <div class="sidenav">
    <div class="logo">
      <img src="static\images\angular_logo.png" alt="" />
    </div>
    <ul class="mainNav">
      <li class="single-nav">
        <a href="#top">
          <span>Home</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section1">
          <span>Section 1<br>Getting Started</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section2">
          <span>Section 2<br>The Basics</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section3">
          <span>Section 3<br>Course Project - The Basics</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section4">
          <span>Section 4<br>Debugging</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section9">
          <span>Section 9<br>Using Services & Dependency Injection</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section13">
          <span>Section 13<br>Understanding Observables</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section15">
          <span>Section 15<br>Handling Forms in Angular Apps</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section18">
          <span>Section 18<br>Making Http Requests</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section19">
          <span>Section 19<br>Course Project - HTTP</span>
        </a>
      </li>      <li class="single-nav">
        <a href="#Section23">
          <span>Section 23<br>Deploying an Angular App</span>
        </a>
      </li>
      <li class="single-nav">
        <a href="#Section29">
          <span>
            Section 29<br>A Basic Introduction to unit
            Testing in Angular Apps
          </span>
        </a>
      </li>
    </ul>
  </div>

  <div class="content">
    <!-- Print Content in id="print-content" -->
    <button onclick="printDiv('print-content')" class="print-button">
      <i class="fa fa-print" aria-hidden="true"> Print </i>
    </button>

    <div id="print-content">

    <h1 id="top">
      Angular - The Complete Guide (2022 Edition)
    </h1>

    <h2>
      by: Maximilian Schwarzmüller<br />
      Professional Web Developer and Instructor
    </h2>


    <p>
      Master Angular 13 (formerly "Angular 2") and build awesome, reactive web apps with the successor of Angular.js
    </p>
    <hr />

    <h2 id="Section1">Section 1. Getting Started</h2>

    <br />
    <h3 id="2">
      2. What is Angular?
    </h3>

    <p>
      Angular is a JavaScript Framework which allows for creation of
      Single-Page-Applications (SPAs).
    </p>

    <p>
      One html fill that downloads all the javascript files needed for the website. Feels
      more like a mobile application. This is done by changing the DOM.
    </p>
    

    <h3 id="3">
      3. Angular Versioning
    </h3>
    
    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_1.PNG" alt="capture_1">
      </div>
      <figcaption>Figure. Angular Versioning</figcaption>
    </figure>

    <h3 id="7">
      7. Project Setup and First App
    </h3>

    <code-block language="" label="Project Creation" controls>
<textarea>ng new my-first-app --no-strict
ng serve</textarea>
    </code-block>
    
    <h3 id="8">
      8. Editing the First App
    </h3>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_2.PNG" alt="capture_2">
      </div>
      <figcaption>Figure. Edited First Files</figcaption>
    </figure>

    <h3 id="9">
      9. The Course Structure
    </h3>
    
    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_3.PNG" alt="capture_3">
      </div>
      <figcaption>Figure. Course Structure</figcaption>
    </figure>

    <h3>
      11. What is TypeScript
    </h3>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_4.PNG" alt="capture_4">
      </div>
      <figcaption>Figure. TypeScript</figcaption>
    </figure>

    <h3>
      13. Basic Project Setup using Bootstrap for Styling
    </h3>

    <code-block language="" label="Bootstrap Install" controls>
<textarea>npm install --save bootstap@3</textarea>
    </code-block>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_5.PNG" alt="capture_5">
      </div>
      <figcaption>Figure. Updating styles in angular.json setup file</figcaption>
    </figure>

    <h3>
      14. About the Course Code / Code Snapshots
    </h3>

    <p>
    One important note: All the course code will only work if you are
    <b>NOT using "strict mode"</b> see the "First App" lecture in this module.
    Strict mode forces you to write more verbose code in some places
    (especially when it comes to class properties). If you enabled it by
    accident, you can also disable it by setting <code>strict: false</code> in your <code>tsconfig.json</code> file.
    </p>

    <h2 id="Section2">Section 2. The Basics</h2>

    <h3>
      How an Angular App gets Loaded and Started
    </h3>

    <p>
      "index.html" is served by the server. Then the <code>app-root</code> is run to tie together the whole application.
      The <code>selector</code> inside the app.component.ts then tells where insert the component. Then the import scripts
      are run that are inserted by the <code>ng serve</code> cli command. 
    </p>

    <p>
      main.ts -> app.module.ts -> "bootstrap: [AppComponent]" -> four component files of "css", "html", "spec.ts", and "module.ts"
    </p>

    <p>
      Keep in mind that Angular in the end is a JS framework, changing you DOM ('HTML') at runtime.
    </p>

    <h3>
      17. Components are Important!
    </h3>

    <p>
      All Angular applications are made from components. The app-component is typically the base component. 
    </p>

    <h3>
      18. Creating a New Component
    </h3>

    <p>
      Components (by convention) are stored in a folder with the name of the component, then the class definition of
      the component is stored in a <code>&lt;name&gt;.component.ts</code> file. In this section we created a component
      with the name server. 
    </p>

    <p>
      The <code>selector</code> within the <code>@Component</code> typescript class decorator is what is used to
      tell Angular what to select within the HTML document. <code>selector</code> should be unique.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_6.PNG" alt="capture_6">
      </div>
      <figcaption>Figure. Files Created for First Component</figcaption>
    </figure>

    <h3>
      19. Understanding the Role of AppModule and Component Declaration
    </h3>

    <p>
      Angular uses <code>components</code> to built web pages and <code>modulues</code> to bundle different pieces into packages.
      For a lot of applications only one module or app is used for the application but an application can have more than one
      module.
    </p>

    <p>
      Within our main app module we need to register our newly created component within the decorator of <code>AppModule</code>.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_7.PNG" alt="capture_7">
      </div>
      <figcaption>Figure. Registering New Component</figcaption>
    </figure>

    <h3>
      20. Using Custom Components
    </h3>

    <p>
      Will insert <code>&lt;app-server&gt;</code> into the <code>app.component.html</code> so that it can 
      be displayed.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_8.PNG" alt="capture_8">
      </div>
      <figcaption>Figure. File to Display Server Component</figcaption>
    </figure>

    <h3>
      21. Creating Components with the CLI & Nesting Components
    </h3>

    <code-block language="" label="CLI Commands" controls>
<textarea>ng generate component servers
(same as ng g c server)</textarea>
    </code-block>
    
    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_9.PNG" alt="capture_9">
      </div>
      <figcaption>Figure. Files Created for Servers Component</figcaption>
    </figure>

    <p>
      Now you can insert <code>&lt;app-servers&gt;</code> into the <code>app.component.html</code> and reference in
      mulitple <code>&lt;app-server&gt;</code> components in <code>servers.component.html</code>.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_10.PNG" alt="capture_10">
      </div>
      <figcaption>Figure. Nesting Components</figcaption>
    </figure>

    <h3>
      22. Working with Component Templates
    </h3>

    <p>
      You can define the styling inside the typescript code. In the <code>@Component</code> decorator there must be either
      a <code>templateURL</code>, which is an external template file, or you can use <code>template</code> and define this
      with the typescript file itself. One of them must be present. This is the one property you have to have at all times.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_11.PNG" alt="capture_11">
      </div>
      <figcaption>Figure. Template in TypeScript File</figcaption>
    </figure>

    <p>
      Note that the <code>`</code> are used to allow for multiline. If you get bigger than three line it seems better to use
      an external file.
    </p>

    <h3>
      23. Working with Component Styles
    </h3>

    <p>
      CSS file with <code>templateURL</code> or <code>styles</code>.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_12.PNG" alt="capture_12">
      </div>
      <figcaption>Figure. Styles Reference In AppComponent</figcaption>
    </figure>

    <h3>
      24. Fully Understanding the Component Selector
    </h3>

    <p>
      Can use an alternate selector for components. If <code>selector: '[app-server]'</code> then in the template Angular
      will select <code>&lt;div app-server&gt;&lt;div&gt;</code> (by attribute) or if <code>selector: '.app-server'</code>
      then in the template Angular will select <code>&lt;div class='app-server'&gt;&lt;div&gt;</code> (by class). Just like CSS
      selectors.
    </p>

    <h3>
      26. What is Databinding?
    </h3>

    <p>
      <span style="color: red;"><b>Databinding</b></span> is a connection between the TypeScript Code and the Template.
      <ul style="margin-left: 2em;">
        <li>Output Data (TS to Tempalte)</li>
          <ol style="list-style-type: square;">
            <li style="margin-left:2em">String Interpolation: <code>{{ data }}</code></li>
            <li style="margin-left:2em;">Property Binding: <code>[property]="data"</code></li>
         </ol>
         <li>Output Data (Template to TS)</li>
          <ol style="list-style-type: square;">
            <li style="margin-left:2em">Event Binding: <code>(event)="expression"</code></li>
          </ol>
        <li>Two-Way-Binding (Both Ways)</li>
          <ol style="list-style-type: square;">
            <li style="margin-left:2em">Event Binding: <code>[(ngModel)] = "data"</code></li>
          </ol>
      </ul>
    </p>

    <h3>
      27. String Interpolation
    </h3>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_13.PNG" alt="capture_13">
      </div>
      <figcaption>Figure. TypeScript File with property and method</figcaption>
    </figure>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_14.PNG" alt="capture_14">
      </div>
      <figcaption>Figure. Template Display</figcaption>
    </figure>

    <h3>
      28. Property Binding
    </h3>

    <p>
      <code>[]</code> brackets indicates that we want to dynamically bind some property in the html tempalte. So
      in the below code the <code>diable</code> property is binded to the <code>allowNewServer</code> property in
      the button html code. So the code will be disabled and after two seconds it will be enable by removing the
      <code>diable</code> property from the <code>button</code> element.
    </p>

    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_15.PNG" alt="capture_15">
      </div>
      <figcaption>Figure. Servers TS file</figcaption>
    </figure>
    
    <figure>
      <div class="figure-image-div">
        <img src="static\images\capture_16.PNG" alt="capture_16">
      </div>
      <figcaption>Figure. Servers html template</figcaption>
    </figure>

    <h3>
      29. Property Binding vs String Interpolation
    </h3>

    <p>
      If you are just outputting then string interpolation is most likely better but if you want to change that
      content at some point then property binding would be better. Don't mix property binding and string interpolation.
      So <span style="color: red;"><b>don't</b></span> do <code>[diabled]="{{!allowedNewServer}}"</code>. So we use
      TypeScript code in between the <code>""</code>.
    </p>

    <h3>
      30. Event Binding
    </h3>

    <p>
      To bind an event to a function you can use event binding with the syntax of <code>(click)="myFunction()</code>.
    </p>

    <code-block language="ts" label="Angular Events" controls>
<textarea>
  // Full list of Angular Events
(click)="myFunction()"      
(dblclick)="myFunction()"   
(submit)="myFunction()"
(blur)="myFunction()"  
(focus)="myFunction()" 
(scroll)="myFunction()"
(cut)="myFunction()"
(copy)="myFunction()"
(paste)="myFunction()"
(keyup)="myFunction()"
(keypress)="myFunction()"
(keydown)="myFunction()"
(mouseup)="myFunction()"
(mousedown)="myFunction()"
(mouseenter)="myFunction()"
(drag)="myFunction()"
(drop)="myFunction()"
(dragover)="myFunction()"</textarea></code-block>

  <p>
    The below code updates the <code>&lt;p&gt;</code> element when the button is clicked.
  </p>
    

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_17.PNG" alt="capture_17">
    </div>
    <figcaption>Figure. Servers TS</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_18.PNG" alt="capture_18">
    </div>
    <figcaption>Figure. Servers html template</figcaption>
  </figure>

  <h3>
    31. Bindable Properties and Events
  </h3>

  <p>
    How do you know to which Properties or Events of HTML Elements you may bind? 
    You can basically bind to all Properties and Events - a good idea is to <code>console.log()</code> 
    the element you're interested in to see which properties and events it offers.
  </p>

  <p>
    <span style="color: red;"><b>Important</b></span>: For events, you don't bind to onclick but only to click (=> (click)).
  </p>

  <p>
  The MDN (Mozilla Developer Network) offers nice lists of all properties and events of the element you're
  interested in. Googling for YOUR_ELEMENT properties  or YOUR_ELEMENT events  should yield nice results.
  </p>

  <h3>
    32. Passing and Using Data with Event Binding
  </h3>

  <p>
    <span style="color: red;"><b>Important</b></span>:<code>($event)</code> is a reserved variable name in the template
    that sends data which is dependent on the event type. In this example we uses this event variable to get the data from
    the event and pass it into the <code>{{ serverName }}</code> variable in the template.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_19.PNG" alt="capture_19">
    </div>
    <figcaption>Figure. servers.component.html</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_20.PNG" alt="capture_20">
    </div>
    <figcaption>Figure. servers.component.ts</figcaption>
  </figure>

  <h3>
    33. FormsModule is Required for Two-Way-Binding!
  </h3>

  <span style="color: red;"><b>Important</b></span>: For Two-Way-Binding (covered in the next lecture) to work,
  you need to enable the <code>ngModel</code> directive. This is done by adding the <code>FormsModule</code> to the
  <code>imports[]</code> array in the AppModule.

  You then also need to add the import from <code>@angular/forms</code>  in the app.module.ts file:
  
  <code-block language="ts" label="FormsModule is Required for Two-Way-Binding" controls>
  <textarea>import { FormsModule } from '@angular/forms';</textarea></code-block>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_21.PNG" alt="capture_21">
    </div>
    <figcaption>Figure. Importing Angular Forms</figcaption>
  </figure>

  <h3>
    34. Two-Way-Binding
  </h3>

  <p>
    Two way binding is a easier way to tie variables to events. <code>[(ngModel)]</code> will tie a variable to events
    that happen within the browser. This reacts to events in both directions.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_22.PNG" alt="capture_22">
    </div>
    <figcaption>Figure. Two-Way-Binding Example</figcaption>
  </figure>

  <h3>
    Assignment 2. Practicing Databinding
  </h3>

  <ol>
    <li>Add a Input field which updates a property ('username') via Two-Way-Binding</li>
    <li>Output the username property via String Interpolation (in a paragraph below the input)</li>
    <li>Add a button which may only be clicked if the username is NOT an empty string</li>
    <li>Upon clicking the button, the username should be reset to an empty string</li>
  </ol>

  <h3>
    Assignment 2 Solution
  </h3>
  
  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_23.PNG" alt="capture_23">
    </div>
    <figcaption>Figure. HTML File</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_24.PNG" alt="capture_24">
    </div>
    <figcaption>Figure. TS File</figcaption>
  </figure>

  <h3>
    What are Directives?
  </h3>

  <p>
    Directives are Instructions in the DOM. Componenets are directives with templates. You can also add
    directives without templates. Most directives are added to the html template with attribute selectors.
  </p>

  <code-block language="html" label="Directives Example HTML" controls>
    <textarea><p appTurnGreen>Receives a green background.</p></textarea>
  </code-block>

  <code-block language="ts" label="Directives Example TS" controls>
<textarea>
@Directive({
    selector:'[appTurnGreen]'
})
export class TurnGreenDirective {
  ...
}</textarea>
  </code-block>

  <h3>
    38. Using ngIf to Output Data Conditionally
  </h3>

  <p>
    ngIf is a <span style="color: red;"><b>structural directive</b></span> so it requires a <code>*</code> before the directive in the html tempalte.
    The below <code>&lt;p&gt;</code> element will only be displayed when <code>serverCreated</code> evaluates to true.
  </p>

<code-block language="html" label="ngIf Example" controls>
<textarea><p *ngIf="serverCreated">Server was created, server name is {{ serverName }}</p></textarea>
</code-block>

  <h3>
    Enhancing ngIf with an Else Condition
  </h3>

  <p>
    An <code>Else</code> condition can be added to the ngIf station within the TypeScript code <code>""</code> This example
    shows uses a local reference <code>#noServer</code> that evaluates to true using the <code>Else</code> condition.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_25.PNG" alt="capture_25">
    </div>
    <figcaption>Figure. ngIf with Else</figcaption>
  </figure>

  <h3>
    40. Styling Elements Dynamically with ngStyle
  </h3>

  <p>
    We are going to look at an <span style="color: red;"><b>attribute directive</b></span> which don't add or remove elements,
    they only change the element they are placed on. In this example we will bind to the <code>ngStyle</code> built in
    directive using the <code>[]</code>. Then we pass the <code>{}</code> object with TS code to evaluate. In this case we
    set the backgournd color dependent on how <code>getColor()</code> is evaluated.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_27.PNG" alt="capture_27">
    </div>
    <figcaption>Figure. TS Class</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_26.PNG" alt="capture_26">
    </div>
    <figcaption>Figure. ngStyle with Binding</figcaption>
  </figure>

  <h3>
    41. Applying CSS Classes Dynamically with ngClass
  </h3>

  <p>
    In this example we will set a class to the <code>&lt;p&gt;</code> element depending on <code>serverStatus</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_28.PNG" alt="capture_28">
    </div>
    <figcaption>Figure. TS File</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_29.PNG" alt="capture_29">
    </div>
    <figcaption>Figure. CSS</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_30.PNG" alt="capture_30">
    </div>
    <figcaption>Figure. HTML</figcaption>
  </figure>

  <h3>
    42. Outputting Lists for ngFor
  </h3>

  <p>
    In this example we use the <code>ngFor</code> with the <code>*</code> structural directive to loop over
    the <code>servers</code> list with the TS file.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_31.PNG" alt="capture_31">
    </div>
    <figcaption>Figure. TS</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_32.PNG" alt="capture_32">
    </div>
    <figcaption>Figure. HTML</figcaption>
  </figure>

  <h3>
    44. Geeting the Index when using ngFor
  </h3>

  <p>
    Can get the index within <code>ngFor</code> by using <code>index</code>.
  </p>

  <code-block language="html" label="Index in Angular Tempaltes" controls>
    <textarea><div *ngIf="let logItem of log; let i = index"></div></textarea>
  </code-block>

  <h3>
    Assignment 3: Practicing Directives
  </h3>

  <p>
    <ol>
      <li>Add A button which says 'Display Details'</li>
      <li>Add a paragraph with any content of your choice (e.g. 'Secret Password = tuna')</li>
      <li>Toggle the displaying of that paragraph with the button created in the first step</li>
      <li>Log all button clicks in an array and output that array below the secret paragraph (maybe log a timestamp or simply an incrementing number)</li>
      <li>Starting at the 5th log item, give all future log items a blue background (via ngStyle) and white color (ngClass)</li>
    </ol>
  </p>

  <h3>
    Assignment 3: My Solution
  </h3>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_33.PNG" alt="capture_33">
    </div>
    <figcaption>Figure. Display</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_34.PNG" alt="capture_34">
    </div>
    <figcaption>Figure. HTML</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_35.PNG" alt="capture_35">
    </div>
    <figcaption>Figure. TS</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_36.PNG" alt="capture_36">
    </div>
    <figcaption>Figure. CSS</figcaption>
  </figure>

  <h2 id="Section3">
    Section 3. Course Project - The Basics
  </h2>

  <h3>
    45. Project Introduction
  </h3>

  <p>
    Reciepe Book and Shopping List project.
  </p>

  <h3>
    46. Planning the App
  </h3>

  <p>
    Planned Components
    <ol style="margin-left: 2rem; list-style-type: '-'">
      <li>Root</li>
      <li>Header</li>
      Shopping List
        <ol style=" margin-left: 2rem; list-style-type: square;">
          <li>Shopping List Edit</li>
          <li>Shopping List</li>
        </ol>
      Recipe Book
        <ol style=" margin-left: 2rem; list-style-type: square;">
          <li>Recipe List</li>
          <li>Recipe Item</li>
          <li>Recipe Detail</li>          
        </ol>
    </ol>
  </p>

  <h3>
    48. Setting up the Application
  </h3>

  <p><strong>MUST&nbsp;READ</strong></p>
  
  <p>
    In the next lecture, we set up the course project.
  </p>
  
  <p>
    Make sure, you do create that app by also adding the <code>--no-strict</code> flag to the <code>ng new</code> 
    command - otherwise you will run into issues later on (we'll still dive into that "Strict Mode"&nbsp;later 
    in the course of course, no worries)!</p><p>We'll also install the Bootstrap CSS&nbsp;Framework and in this 
    course, we use version 3 of the framework. Install it via <code>npm install --save bootstrap@3</code>
    &nbsp; =&gt;&nbsp;The <code>@3</code>&nbsp; is important!</p><p>Additionally, when using a project created 
      with Angular CLI&nbsp;6+ (check via <code>ng v</code>&nbsp;), you'll have an <code>angular.json</code>&nbsp; 
      file instead of an <code>.angular-cli.json </code>&nbsp;file. In that file, you still need to add Bootstrap 
      to the <code>styles[]</code>&nbsp; array as shown in the next video, but the path should be 
      <code>node_modules/bootstrap/dist/css/bootstrap.min.css</code>&nbsp;, <strong>NOT</strong> 
      <code>../node_modules/bootstrap/dist/css/bootstrap.min.css</code>&nbsp;. The leading <code>../</code>
      &nbsp; must not be included.
  </p>

  <h3>
    49. Creating the Components
  </h3>

  <p>
    Directory Tree after component creation. Note in windows cmd you can use <code>tree /f</code>
    to display directory tree.
  </p>

  <p>
    <code>
      app<br>
      ├───header<br>
      ├───recipes<br>
      │   ├───recipe-detail<br>
      │   └───recipe-list<br>
      │       └───recipe-item<br>
      └───shopping-list<br>
          └───shopping-edit<br>
    </code>
  </p>

  <h3>
    50. Using the Components
  </h3>

  <p>
    Created the Main Layout of the app.
  </p>

  <h3>
    51. Adding a Navigation Bar
  </h3>

  <p>
    <code-block language="html" label="Navbar HTML" controls>
<textarea>
<nav class="navbar navbar-default">
  <div class="container-fluid">
      <div class="navbar-header">
          <a href="#" class="navbar-brand">Recipe Book</a>
      </div>

      <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="#">Recipes</a></li>
              <li><a href="#">Shopping List</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown">
                  <a href="" class="dropdoen-toggle" role="button">Manage <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                      <li><a href="#">Save Data</a></li>
                      <li><a href="#">Fetch Data</a></li>
                  </ul>
              </li>
          </ul>
      </div>
  </div>
</nav></textarea>
      </code-block>
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_37.PNG" alt="capture_37">
    </div>
    <figcaption>Figure. App in Browser</figcaption>
  </figure>

  <h3>
    52. Alternative Non-Collapsable Nav Bar
  </h3>

  <p>
    The way we added it, the Navbar will collapse on smaller screens. Since we didn't implement a 
    Hamburger menu, that means that there's no way of accessing our links on smaller screens.
  </p>
  
  <p>
    You can either add such a menu on your own (see below), or you replace <code>collapse&nbsp;navbar-collapse</code>
    &nbsp; with just <code>navbar-default</code>.
  </p>
  
  <p>
    Adding a Hamburger Menu:
  </p>
  
  <p>
    Alternatively, if you want to make the navigation bar responsive, please replace these lines in 
    <code>header.component.html</code>:
  </p>

  <p>
    <code-block language="html" label="Navbar HTML" controls>
<textarea>
<div class="navbar-header">
  <a routerLink="/" class="navbar-brand">Recipe Book</a>
</div>
<div class="collapse navbar-collapse"></textarea>
      </code-block>
  </p>

  <p>
    with these lines:
  </p>

  <p>
    <code-block language="html" label="Navbar HTML" controls>
<textarea>
<div class="navbar-header">
  <button type="button" class="navbar-toggle" (click)="collapsed = !collapsed">
  <span class="icon-bar" *ngFor="let iconBar of [1, 2, 3]"></span>
  </button>
  <a routerLink="/" class="navbar-brand">Recipe Book</a>
</div>
<div class="navbar-collapse" [class.collapse]="collapsed" (window:resize)="collapsed = true"></textarea>
      </code-block>
  </p>  
  
  <p>
    and add these line to <code>header.component.ts</code>: <code>collapsed = true;</code>.
  </p>

  <h3>
    53. Creating a "Recipe" Model
  </h3>

  <p>
    In this section we are just going to create a vanilla TypeScript model. This will be a typescript
    class we will use to recieve data and store it temporarly. Note that the <code>constructor</code>
    is used when the class is instantiated.
  </p>

  <p>
    <code-block language="ts" label="TS Class Definition" controls>
<textarea>
export class Recipe {
  public name: string;
  public description: string;
  public imagePath: string;

  constructor(name: string, desc: string, imagePath: string) {
      this.name = name;
      this.description = desc;
      this.imagePath = imagePath;
  }
}</textarea>
      </code-block>
  </p>

  <h3>
    54. Adding Content to the Recipes Components
  </h3>

  <p>
    We will set up cards for the recipe list
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_38.PNG" alt="capture_38">
    </div>
    <figcaption>Figure. TS file of recipe-lsit</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_39.PNG" alt="capture_39">
    </div>
    <figcaption>Figure. HTML file of recipe-list</figcaption>
  </figure>

  <h3>
    55. Outputting a List of Recipes with ngFor
  </h3>

  <p>
    <code-block language="html" label="ngFor in HTML Template" controls>
<textarea>
<a 
  href="#"
  class="list-group-item clearfix"
  *ngFor="let recipe of recipes;"
>
  <div class="pull-left">
      <h4 class="list-group-item-heading">
          {{ recipe.name }} 
      </h4>
      <p class="list-group-item-text">
          {{ recipe.description }}
      </p>
  </div>             
  <span class="pull-right">
      <img 
          src="{{ recipe.imagePath }}" 
          alt="" 
          class="img-responsive" 
          style="max-height: 50px;">
  </span>
</a></textarea>
      </code-block>
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_40.PNG" alt="capture_40">
    </div>
    <figcaption>Figure. App in Browser</figcaption>
  </figure>

  <h3>
    56. Display Recipe Details
  </h3>

  <p>
    <code-block language="html" label="HTML Template" controls>
<textarea>
<div class="row">
  <div class="col-xs-12">
      <img src="" alt="" class="img-responsive">
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
      <h1>Recipe Name</h1>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
      <div class="btn-group">
          <button
              type="button"
              class="btn btn-primary dropdown-toggle"
          >
              Manage Recipes
              <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
              <li><a href="">To Shopping List</a></li>
              <li><a href="">Edit Recipe</a></li>
              <li><a href="">Delete Recipe</a></li>
          </ul>
      </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
      Description
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
      Ingredients
  </div>
</div></textarea>
</code-block>
</p>

  <h3>
    57. Working on the ShoppingListComponent
  </h3>

  <p>
    <code-block language="html" label="Shopping-List Starting HTML" controls>
<textarea>
<div class="row">
  <div class="col-xs-10">
      <app-shopping-edit></app-shopping-edit>
      <hr>
      <ul class="list-group">
          <a class="list-group-item" style="cursor:pointer"></a>
      </ul>
  </div>
</div></textarea>
</code-block>
  </p>
  
  <h3>
    58. Creating an "Ingredient" Model
  </h3>

  <p>
    <code-block language="ts" label="Ingredient Class" controls>
<textarea>
export class Ingredient {
  constructor (public name: string, public amount: number) {}
}</textarea>
    </code-block>
  </p>

  <p>
    Used the shortcut syntax so that the constructor will setup public variables on the
    <code>Ingredient</code> class.
  </p>

  <h3>
    59. Creating and Outputting the Shopping List
  </h3>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_41.PNG" alt="capture_41">
    </div>
    <figcaption>Figure. TS file of recipe-list</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_42.PNG" alt="capture_42">
    </div>
    <figcaption>Figure. HTML file of recipe-list</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_43.PNG" alt="capture_43">
    </div>
    <figcaption>Figure. App Display</figcaption>
  </figure>

  <h3>
    60. Adding a Shopping List Edit Section
  </h3>

  <p>
    <code-block language="html" label="Shopping Edit HTML" controls>
<textarea>
<div class="row">
  <div class="col-xs-12">
      <form>
          <div class="row">
              <div class="col-sm-5 form-group">
                  <label for="name">Name</label>
                  <input type="text" id=""name class="form-control">
              </div>
              <div class="col-sm-2">
                  <label for="amount">Amount</label>
                  <input type="number" id="amount" class="form-control">
              </div>
          </div>
          <div class="row">
              <div class="col-xs-12">
                  <button class="btn btn-success side-margin" type="submit">Add</button>
                  <button class="btn btn-danger side-margin" type="button">Delete</button>
                  <button class="btn btn-primary side-margin" type="button">Clear</button>
              </div>
          </div>
      </form>
  </div>
</div></textarea>
    </code-block>
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_44.PNG" alt="capture_44">
    </div>
    <figcaption>Figure. App Display</figcaption>
  </figure>

  <h2 id="Section4">
    Section 4. Debugging
  </h2>

  <h3>
    62. Understanding Angular Error Messages
  </h3>

  <p>
    In general if an error occurs you will see it with the developer tools in the browser.
  </p>

  <h3>
    63. Debugging Code in the Browser Using Sourcemaps
  </h3>

  <p>
    In the Chrome browser you can look in the Sources tab. and look for the <code>main.bundle.js</code>. When you click for
    a break point here then you will be taken to a TS file. This is done by <span style="color: red;"><b>sourcemaps</b></span>.
    These allow the browser to map the javascript files to the TypeScript code. So we can place breakpoints in our
    TypeScript files.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_45.PNG" alt="capture_45">
    </div>
    <figcaption>Figure. Main.js bundle in browser</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_46.PNG" alt="capture_46">
    </div>
    <figcaption>Figure. TS files in Webpack for Developing</figcaption>
  </figure>

  <h2 id="Section9">
    Section 9. Using Services & Dependency Injection
  </h2>

  <h3>
    105. Module Introduction
  </h3>

  <p>
    <span style="color: red;"><b>Services</b></span> are an Angular class that is useful when either
    you are duplicating a function or you are providing data. It acts as a center buisness unit.
  </p>

  <h3>
    106. Why would you need a Service?
  </h3>

  <p>
    Services can make it simpler to use data across you app.
  </p>

  <h3>
    107. Creating a Logging Service
  </h3>

  <p>
    First we will create a service to log data. We will be sticking our first service in a file just under app called
    <code>logging.service.ts</code>. A service is just a normal typescript class. 
  </p>

  <p>
    <code-block language="ts" label="Logging Service" controls>
<textarea>
export class LoggingService {
  logStatusChange(status: string) {
      console.log('A server status changed, new status: ' + status);
  }
}</textarea>
    </code-block>
  </p>

  <h3>
    108. Injecting the Logging Service into Components
  </h3>

  <p>
    Angular uses dependency injector to allow one class to depend on another class so that functions can be used by 
    one class from another. In order to give instruction to Angular to create an instance of this class 
    to use in the component we use a <code>constructor</code> keyword.
  </p>

  <p>
    So the <code>LoggingService</code> we import at the top, register it in <code>providers</code> within
    the <code>@Component</code>, use a <code>constructor</code> to create the instance of the class
    and then use the class that was constructed.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_47.PNG" alt="capture_47">
    </div>
    <figcaption>Figure. LoggingService Injection #1</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_48.PNG" alt="capture_48">
    </div>
    <figcaption>Figure. LoggingService Injection #2</figcaption>
  </figure>

  <h3>
    109. Creating a Data Service
  </h3>

  <p>
    First we will create a new typscript file that will house our service class. <code>accounts.service.ts</code> within
    the <code>app</code> folder.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_49.PNG" alt="capture_49">
    </div>
    <figcaption>Figure. accounts.service.ts</figcaption>
  </figure>

  <p>
    Now we will update the <code>app.components</code>, <code>new-account.components</code> and <code>account.components</code>
    to use this service.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_50.PNG" alt="capture_50">
    </div>
    <figcaption>Figure. app.components.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_51.PNG" alt="capture_51">
    </div>
    <figcaption>Figure. new-account.components.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_52.PNG" alt="capture_52">
    </div>
    <figcaption>Figure. account.components.ts</figcaption>
  </figure>

  <p>
    <span style="color: red;"><b>Important</b></span>: There is still a step left to complete since the
    accounts list is not being updated on the screen when the data is added via the <code>accounts.service</code>.
  </p>

  <h3>
    110. Understanding the Hierarchical Injector
  </h3>

  <p>
    If we provide a service somewhere in the app Angular can create an instance that is shared depending on location
    in the app.
  </p>

  <table>
    <tr>
      <th>Location</th>
      <th>Where Service is Avaliable</th>
    </tr>
    <tr>
      <td><code>AppModule</code></td>
      <td>Same Instance of Service is available <b>Application-wide</b></td>
    </tr>
    <tr>
      <td><code>AppComponent</code></td>
      <td>
        Same Instance of Service is availabe for <b>all Components</b>
        (but <b>not for other Services</b>)
      </td>
    </tr>
    <tr>
      <td><code>Any other component</code></td>
      <td>
        Same Instance of Service is availabe for <b>the Component and all its
        child components</b>
      </td>
    </tr>
  </table>

  <h3>
    111. How many Instances of Service Should It Be?
  </h3>

  <p>
    Right now in the app we have three instaces of the <code>accounts.service.ts</code>. The first is in
    <code>app.component.ts</code>, then <code>account.component.ts</code>, and <code>new_account.component.ts</code>
  </p>

  <p>
    To fix this issue of creating mulitple instance of <code>AccountsService</code> we can remvoe the providers register
    within the components. Now when we provide the constructor it now to reference the original instance within the
    <code>app.component.ts</code>
  </p>


  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_53.PNG" alt="capture_53">
    </div>
    <figcaption>Figure. Remove providers reference</figcaption>
  </figure>

  <h3>
    112. Injecting Services into Services
  </h3>

  <p>
    The highest possible level of the providers array is in the <code>app.module.ts</code>. This issures
    that the whole applications users the same service. Now with this setup up can inject a service
    into a service.
  </p>


  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_54.PNG" alt="capture_54">
    </div>
    <figcaption>Figure. Add To App.Module.ts Provider</figcaption>
  </figure>

  <p>
    In order to use the <code>LoggingService</code> within the <code>accounts.service.ts</code> we will need
    to provide the constructor as well as attached META data with <code>@Injectable</code>. This allows this
    component to be injected into another service. You add the <code>@Injectable</code> onto the thing that
    is receving the injection.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_55.PNG" alt="capture_55">
    </div>
    <figcaption>Figure. Injecting LoggingService into AccountsService</figcaption>
  </figure>

  <p>
    It is recommended for convention that any services that are created that you add the <code>@Injectable</code>
    decorator so that you can inject service into that service if needed.
  </p>

  <h3>
    113. Using Services for Cross-Component Communication 
  </h3>

  <p>
    We want to provide an event that we can trigger in one component and listen to in another component. In this
    example we setup the <code>EventEmitter</code> in <code>accounts.service.ts</code> that is used in
    <code>account.component.ts</code> and is <code>subscribe</code> in <code>new-account.component.ts</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_56.PNG" alt="capture_56">
    </div>
    <figcaption>Figure. EventEmitter in accounts.servie.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_57.PNG" alt="capture_57">
    </div>
    <figcaption>Figure. emit in account.component.ts</figcaption>
  </figure>


  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_58.PNG" alt="capture_58">
    </div>
    <figcaption>Figure. new-account.component.ts listens to statusUpdated</figcaption>
  </figure>

  <h3>
    Services in Angular 6+
  </h3>

  <p>
    If you're using <strong>Angular 6+</strong> (check your <code>package.json</code>&nbsp; to find out), you can 
    provide application-wide services in a different way.</p><p>Instead of adding a service class to the 
    <code>providers[]</code>&nbsp; array in <code>AppModule</code>&nbsp;, you can set the following config 
    in <code>@Injectable()</code>&nbsp;:
    <code-block language="ts" label="" controls>
<textarea>@Injectable({providedIn: 'root'})
export class MyService { ... }</textarea>
    </code-block>   
    
    This is exactly the same as:

    <code-block language="ts" label="" controls>
<textarea>export class MyService { ... }</textarea>
    </code-block>   

    and 

    <code-block language="ts" label="" controls>
<textarea>import { MyService } from './path/to/my.service';

@NgModule({
    ...
    providers: [MyService]
})
export class AppModule { ... }</textarea>
    </code-block>   

    Using this new syntax is <strong>completely optional</strong>, the traditional syntax (using 
    <code>providers[]</code>&nbsp;) will still work. The "new syntax" does offer one advantage 
    though:&nbsp;Services <strong>can be loaded lazily </strong>by Angular (behind the scenes) 
    and redundant code can be removed automatically. This can lead to a better performance and 
    loading speed - though this really only kicks in for bigger services&nbsp;and apps in general.
  </p>

  <h3>
    Assignment 5: Practicing Services
  </h3>

  <p>

  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_59.PNG" alt="capture_59">
    </div>
    <figcaption>Figure. App View When Complete</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_60.PNG" alt="capture_60">
    </div>
    <figcaption>Figure. app.component.html</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_61.PNG" alt="capture_61">
    </div>
    <figcaption>Figure. app.component.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_62.PNG" alt="capture_62">
    </div>
    <figcaption>Figure. inactive-users.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_63.PNG" alt="capture_63">
    </div>
    <figcaption>Figure. Inactive-users.component.html</figcaption>
  </figure>

  <h2 id="Section13">
    Section 13. Understanding Observables
  </h2>

  <h3>
    170. Module Introduction
  </h3>
  
  <p>
    An observable is a data source. Like User Input Events, Http Requests, Triggered in Code. The 
    observer is how to handle those observable. The three types of data types are Handle Data, 
    Handle Error, and Handle Completion. These are used to handle asynchronous tasks. One major
    advantage to observable is that they are operators.
  </p>

  <h3>
    171. Install RxJS
  </h3>

  <p>
    In order to follow along smoothly with the course examples, make sure you install RxJS v6 by running
    <code>npm install --save rxjs@6</code>
  </p>

  <p>
    In addition, also install the rxjs-compat package: <code>npm install --save rxjs-compat</code>
  </p>

  <h3>
    172. Analyzing Angular Observables
  </h3>

  <p>
    <span style="color: red;"><b>Observables</b></span> are constructs to which you can subscribe to be informed 
    about the changes in data. Observables are that stream of data and whenever a new data piece is emitted,
    our subsciption will know about it. In the next section we will build an observable from the ground up.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_64.PNG" alt="capture_64">
    </div>
    <figcaption>Figure. Routing Observable that is Subscribed Too</figcaption>
  </figure>  

  <h3>
    173. Getting Closer to the Core of Observables
  </h3>

  <p>
    The ability to add observables is added throught the <span style="color: red;"><b>RxJS</b></span> package. In this
    example we will use <code>interval</code> from the <code>RxJS</code> package to emit a count to the counsole every
    1000 ms.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_65.PNG" alt="capture_65">
    </div>
    <figcaption>Figure. Use of Intercal From RxJS package</figcaption>
  </figure>

  <p>
    Note that the observable will keep emitting values regardless of weither you are still interested in the value. So
    you will need to unsubscribe to an observable it you are no longer interested in that observable. This will
    interduce a <span style="color: red;"><b>memory leak</b></span> into. In order to unsubsribe when the component is no longer active we can use
    <code>ngOnDestroy</code> from <code>@angular/core</code>. Now when the url moves to <code>/user/1</code> then 
    <code>firstObsSubscription</code> will stop emitting its value since we <code>unsubscribed</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_66.PNG" alt="capture_66">
    </div>
    <figcaption>Figure. Use of ngOnDestroy</figcaption>
  </figure>

  <h3>
    174. Building a Custom Observable
  </h3>

  <p>
    We are going to rebuild the <code>interval</code> function manually.  
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_67.PNG" alt="capture_67">
    </div>
    <figcaption>Figure. Custom Observable</figcaption>
  </figure>

  <h3>
    175. Errors & Completion
  </h3>

  <p>
    Emiting data is primary function of Observable. But for HTML requests we may get an error. When an error
    is reached by on observable the action that it is completing is killed. To handle errors you provide
    a second parameter within the observable.
  </p>

  <p>
    We can also complete an observable with <code>observable.complete()</code>. We can react to this completion with
    an additional function as the third argument. Also important is to know that an error cancels an obervable it
    does not complete it.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_68.PNG" alt="capture_68">
    </div>
    <figcaption>Figure. App Console Log</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_69.PNG" alt="capture_69">
    </div>
    <figcaption>Figure. TS of Obervable</figcaption>
  </figure>

  <h3>
    176. Obervables & You!
  </h3>
  
  <p>
    We will very rarely build our own obervable. Mostly you will use subscribe to interact with those observables.
  </p>

  <h3>
    177. Understanding Operators
  </h3>

  <p>
    Operators are the majic feature of the <code>RxJS</code> library. <span style="color: red;"><b>Operators</b></span>
    do some sort of process or transformation 
    on the data that is recieved from an operator.
  </p>

  <h3>
    Subjects
  </h3>

  <p>
    Import subject from RxJS: <code>import { Subject } form 'rxjs';</code> This subject can replace EventEmitters
    that pass data between components. With Subject you can call the <code>next()</code> on that Subject
    from outside the Subject. Subjects can replace <code>eventEmitter</code> This is the best way to pass
    variables from A to B.
  </p>
  

  <h2 id="Section15">
    Section 15. Handling Forms in Angular Apps
  </h2>

  <h3>
    183. Module Introduction
  </h3>

  <p>
    With Angular you will not be submitting forms through the url but you will be using Angular to submit forms.
  </p>

  <h3>
    184. Why do we Need Angular's Help?
  </h3>

  <p>
    Angular hsa built in features to turn a forms input information into some JS object that you can use.
  </p>

  <h3>
    185. Template-Driven (TD) vs Reactive Approach
  </h3>

  <p>
    Template-Driven lets Angular infer the Form Object from the DOM. 
  </p>

  <p>
    Reactive is where the form is created programmatically and synchronized with the DOM
  </p>

  <h3>
    186. An Example Form
  </h3>

  <p>
    Starting HTML Form
    <code-block language="html" label="HTML Form" controls>
<textarea><div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <form>
        <div id="user-data">
          <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" class="form-control">
          </div>
          <button class="btn btn-default" type="button">Suggest an Username</button>
          <div class="form-group">
            <label for="email">Mail</label>
            <input type="email" id="email" class="form-control">
          </div>
        </div>
        <div class="form-group">
          <label for="secret">Secret Questions</label>
          <select id="secret" class="form-control">
            <option value="pet">Your first Pet?</option>
            <option value="teacher">Your first teacher?</option>
          </select>
        </div>
        <button class="btn btn-primary" type="submit">Submit</button>
      </form>
    </div>
  </div>
</div></textarea>
    </code-block>
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_70.PNG" alt="capture_70">
    </div>
    <figcaption>Figure. App From Look</figcaption>
  </figure>

  <p>
    On the <code>&lt;form&gt;</code> element we do not have the regular <code>action</code> or <code>method</code> attributes
    since this will be handled by Angular.
  </p>

  <h3>
    187. TD: Creating the From and REgistering the Constrols
  </h3>

  <p>
    In order for angular to recognize your form you need to import <code>FormsModule</code> within the <code>app.module.ts</code>.
    This is the import that will build the form object.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_71.PNG" alt="capture_71">
    </div>
    <figcaption>Figure. Forms Modulue Import</figcaption>
  </figure>

  <p>
    To add an input as a control you add <code>ngModel</code> as a attribute type as well as a
    the <code>name</code> attribute. 
  </p>

  <code-block language="html" label="HTML Form" controls>
<textarea><form>
    <div id="user-data">
      <div class="form-group">
        <label for="username">Username</label>
        <input 
          type="text"
          id="username"
          class="form-control"
          ngModel
          name="username"
        >
      </div>
      ...</textarea>
  </code-block>

  <h3>
    188. TD: Submitting and Using the Form
  </h3>

  <p>
    So to tell angular to get the form data when the submit button you can use this syntax,<br>
    <code style="display: block; margin: 5px;">&lt;form (ngSubmit)="onSubmit(f)" #f="ngForm"&gt;</code>
    which bascially use the <code>#f</code> to assign the <code>ngForm</code> js object to <code>f</code> that
    then is passed to the ts scripts when the submit action is triggered.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_72.PNG" alt="capture_72">
    </div>
    <figcaption>Figure. ngForm in Console on Submit</figcaption>
  </figure>

  <h3>
    189. TD: Undertstanding Form State
  </h3>

  <p>
    We can look at the <code>NgModel</code> properties. Things like controsl, value, touched, untouched, dirty, etc.
  </p>

  <h3>
    190. TD: Accessing the Form with @ViewChild
  </h3>

  <p>
    An alternate way of submitting the form is using <code>@ViewChild</code>. The Example below shows the <code>f</code>
    reference being ties to the NgForm object. This could be useful if you need to access the form before the
    from is submitted.
  </p>

  <code-block language="ts" label="@ViewChild in TS Component" controls>
<textarea>export class AppComponent {
  @ViewChild('f') signupForm: NgForm;
}</textarea>
  </code-block>

  <h3>
    191. TD. Adding Validation to Check User Input
  </h3>

  <p>
    <code-block language="html" label="Use of Required and email attributes in Form" controls>
<textarea>...
<div class="form-group">
  <label for="username">Username</label>
  <input 
    type="text"
    id="username"
    class="form-control"
    ngModel
    name="username"
    required
  >
  </div>
  <button class="btn btn-default" type="button">Suggest a Username</button>
  <div class="form-group">
  <label for="email">Mail</label>
  <input 
    type="email"
    id="email"
    class="form-control"
    ngModel
    name="email"
    required
    email
  >
...</textarea>
    </code-block>
  </p>

  <p>
    This sets the <code>valid</code> attribute on <code>NgForm</code>. Angular also adds some dynamic
    classes to the inputs like <code>ng-dirty</code>, <code>ng-touched</code>, and <code>ng-invalid</code> 
  </p>

  <h3>
    192. Built-in Validators & Using HTML5 Validation
  </h3>

  <p>
    Which Validators do ship with Angular?
  </p>

  <p>
    Check out the Validators class: <a href="https://angular.io/api/forms/Validators">https://angular.io/api/forms/Validators</a> 
    - these are all built-in validators, 
    though these are the methods which actually get executed (and which you later can add when using the reactive 
    approach).

  </p>

  <p>
    For the template-driven approach, you need the directives. You can find out their names, by searching for "validator" in the 
    official docs: https://angular.io/api?type=directive - everything marked with "D" is a directive and can be added to your 
    template.    
  </p>

  <p>
    Additionally, you might also want to enable HTML5 validation (by default, Angular disables it). You can do so by adding the 
    <code>ngNativeValidate</code>  to a control in your template.
  </p>

  <h3>
    193. TD: Using the Form State
  </h3>
  
  <p>
    For instance we could set the submit button to <code>diabled</code> if the form is not valid. Note the
    <code>f</code> is a local reference to the from within the template (<code>#f="NgForm"</code>)
  </p>

  <code-block language="html" label="Submit Btn Disabled Unless Valid Form" controls>
<textarea>
<button 
  class="btn btn-primary"
  type="submit"
  [disabled]="!f.valid">
    Submit
</button></textarea>
</code-block>

<p>
  We can also use the css styles to alert the user to something.For instance putting a red border if
  the user touched the input and the input is invalid.
</p>

  <code-block language="css" label="app.component.css" controls>
<text-area>input.ng-invalid.ng-touched {
  border: 1px solid red;
}</text-area>
  </code-block>

<h3>
  194. TD: Outputting Validation Error Messages
</h3>

<p>
  The <code>#email='ngModel'</code> sets the <code>email</code> refrence so you can
  use it within the tempalte.
</p>

<p>
  <code-block language="html" label="Validation of Input with #email='ngModel' and *ngIf" controls>
<textarea><div class="form-group">
  <label for="email">Mail</label>
  <input 
    type="email"
    id="email"
    class="form-control"
    ngModel
    name="email"
    required
    email
    #email="ngModel"
  >
</div>
<span class="help-block" *ngIf="!email.valid && email.touched">Please enter a valid value.</span></textarea>
    </code-block>
  </p>

  <h3>
    195. TD: Set Default Values with ngModel Property Binding
  </h3>

  <p>

  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_73.PNG" alt="capture_73">
    </div>
    <figcaption>Figure. App View</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_74.PNG" alt="capture_74">
    </div>
    <figcaption>Figure. TS Component </figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_75.PNG" alt="capture_75">
    </div>
    <figcaption>Figure. HTML Tempalte </figcaption>
  </figure>

  <h3>
    196. TD: Using ngModel with Two-Way-Binding
  </h3>

  <p>
    Right now everthing in the form only updates in <code>ngModel</code> once the form is
    submitted.Then you get a form object where you can get retreve those values. You can also
    use two-way binding to check values as they are entered.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_76.PNG" alt="capture_76">
    </div>
    <figcaption>Figure. App View </figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_77.PNG" alt="capture_77">
    </div>
    <figcaption>Figure. HTML Template </figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_78.PNG" alt="capture_78">
    </div>
    <figcaption>Figure. TS File </figcaption>
  </figure>

  <h3>
    197. TD: Grouping Form Controls
  </h3>

  <p>
    To group inputs together in a form you can use <code>ngModelGroup</code> that is set to a
    key string name that will group all inputs of that group together.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_79.PNG" alt="capture_79">
    </div>
    <figcaption>Figure. FromGroup in ngModel</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_80.PNG" alt="capture_80">
    </div>
    <figcaption>Figure. #userData="ngModelGroup"</figcaption>
  </figure>

  <h3>
    198. TD: Handling Radio Buttons
  </h3>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_81.PNG" alt="capture_81">
    </div>
    <figcaption>Figure. App View</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_82.PNG" alt="capture_82">
    </div>
    <figcaption>Figure. app.component.ts</figcaption>
  </figure>

  <h3>
    199. TD: Setting and Patching Form Values
  </h3>

  <p>
    Implementing am input being populated once a button is clicked. One method that could
    be useful is to use the <code>NgForm.setValue()</code> method where you pass in a javascript
    object that exactly represents the data needed in your <code>NgForm </code>. This method 
    could work but would overwrite the data in the other fields.
  </p>

  <p>
    To just insert data into a single field we can use the <code>form.pathValue()</code> for the
    form object.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_83.PNG" alt="capture_83">
    </div>
    <figcaption>Figure. app.component.html</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_84.PNG" alt="capture_84">
    </div>
    <figcaption>Figure. app.component.ts</figcaption>
  </figure>

  <h3>
    200. TD: Using Form Data
  </h3>

  <p>
    Can set component values to form entered values.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_85.PNG" alt="capture_85">
    </div>
    <figcaption>Figure. app.component.ts form values setting onSubmit()</figcaption>
  </figure>


  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_86.PNG" alt="capture_86">
    </div>
    <figcaption>Figure. app.component.html</figcaption>
  </figure>

  <h3>
    201. TD: Resetting Forms
  </h3>

  <p>
    To reset form data you can call <code>reset()</code> on the form. If you want to reset to specific values
    then you can use the same object in <code>setValues()</code> to <code>reset()</code>.
  </p>

  <h3>
    Assignment 6: Practicing Template-Driven Forms
  </h3>

  <p>
    Add a Form with the following Inputs (and Validators) <br>
      1) Mail address (should not be empty and should be an email address) <br>
      2) A Dropdown which allows the user to select from three different Subscriptions ("Basic", "Advanced", "Pro")
        Set "Advanced" as Default<br>
      3) A Password field (should not be empty) <br>
      4) A Submit Button <br>
  </p>

  <p>
      Display a warning message if the Form is invalid AND was touched. Display a warning message below each input if it's invalid.
  </p>

  <p>
      Upon submitting the form, you should simply print the Value of the Form to the Console.
      Optionally, display it in your template.
  </p>

  <h4 style="margin-top: 10px;">My Solution</h4>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_88.PNG" alt="capture_88">
    </div>
    <figcaption>Figure. Form Before Submit</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_89.PNG" alt="capture_89">
    </div>
    <figcaption>Figure. Form After Submit</figcaption>
  </figure>

  <code-block language="ts" label="app.component.ts" controls>
<text-area>import { Component, ViewChild } from '@angular/core';
import { NgForm } from '@angular/forms';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  @ViewChild('f') userForm: NgForm;

  defaultSub = 'advanced';

  submitted = false
  user = {
    email: "",
    subscription: "",
    password: "",
  }


  onSubmit(form: NgForm) {
    console.log(form);

    // Set Values On Page From Form
    this.submitted = true;
    this.user.email = this.userForm.value.email;
    this.user.subscription = this.userForm.value.subscription;
    this.user.password = this.userForm.value.password;

    // Reset Form and Set Defaults for Subscription Type
    this.userForm.onReset();
    this.userForm.form.patchValue({subscription: this.defaultSub})
  }
}
</text-area>
  </code-block>
  
  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_90.PNG" alt="capture_90">
    </div>
    <figcaption>Figure. HTML Form</figcaption>
  </figure>

  <h3>
    202. Introduction to the Reactive Approach
  </h3>

  <p>
    <span style="color: red;"><b>Reactive</b></span> forms are were you programmatically create the form and then
    synchronize it with the DOM.
  </p>

  <h3>
    203. Reactive: Setup
  </h3>

  <p>
    Starting Place for web app files and app view.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_143.PNG" alt="capture_143">
    </div>
    <figcaption>Figure. App View</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_144.PNG" alt="capture_144">
    </div>
    <figcaption>Figure. Start HTML</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_145.PNG" alt="capture_145">
    </div>
    <figcaption>Figure. Start TS Files</figcaption>
  </figure>

  <p>
    Now we will at the form that we will interact with inside the <code>TS</code> file. In
    Angular a form is just a group of controls. To contain all these controls we can use
    a <code>FormGroup</code> inside of components <code>TS</code> file. In order to use this
    we also need to import the <code>ReactiveFormsModule</code> in <code>app.module.ts</code>
    file.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_146.PNG" alt="capture_146">
    </div>
    <figcaption>Figure. Needed <code>ReactiveFormsModule</code> in <code>app.module.ts</code></figcaption>
  </figure>

  <h3>
    204. Reactive: Creating a Form in Code
  </h3>

  <p>
    You should initialize your form before you render your form. Use a life cycle hook that is called before
    it is rendered. We will be initializing the form within the <code>ngOnInit</code> so that our code is
    a little cleaner at the top.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_147.PNG" alt="capture_147">
    </div>
    <figcaption>Figure. Adding <code>FormControl</code> to <code>FormGroup</code></figcaption>
  </figure>

  <p>
    Next we will tie the <code>signupForm</code> to the html template.
  </p>

  <h3>
    205. Reactive: Syncing HTML and Form
  </h3>

  <p>
    We will add some directives to point the html code to the <code>signupForm</code> in the <code>TS</code> file.
    Now our html form and our TS form will be in sync.
  </p>

  <table>
    <tr>
      <th>HTML Directive with Property Binding</th>
      <th>Meaning</th>
    </tr>
    <tr>
      <td>
        <code>&lt;form [formGroup]="signupForm" &gt;</code>
      </td>
      <td>
        Use the form group that I have already created, don't create one.
      </td>
    </tr>
    <tr>
      <td>
        <code>&lt;input formControlName="username" &gt;</code>
      </td>
      <td>
        Tie the input value here to the <code>"username"</code> <code>FormControl()</code> object within
        the <code>TS</code> file.
      </td>
    </tr>
  </table>

  <h3>
    206. Reactive: Submitting the Form
  </h3>

  <p>
    We still add the <code>(ngSubmit)="onSubmit()"</code> to the form as in the template driven form. Now
    we don't need to pass in a local reference to the form but can use the form with the TS
    file.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_148.PNG" alt="capture_148">
    </div>
    <figcaption>Figure. Adding <code>(ngSubmit)="onSubmit()"</code> to <code>&lt;form&gt;</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_149.PNG" alt="capture_149">
    </div>
    <figcaption>Figure. <code>console.log(signupForm)</code></figcaption>
  </figure>

  <h3>
    207. Reactive: Adding Validation
  </h3>

  <p>
    Within the reactive approach all the configuration is being done with the TS file. So we will
    configure the validation with the <code>FormControl</code> class. We will need an additional
    class, <code>Validators</code> from <code>'@angular/forms'</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_151.PNG" alt="capture_151">
    </div>
    <figcaption>Figure. <code>Validators</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_150.PNG" alt="capture_150">
    </div>
    <figcaption>Figure. Change of <code>&lt;input class=""&gt;</code> set values based on validation</figcaption>
  </figure>

  <h3>
    208. Reactive: Getting Access to Controls
  </h3>

  <p>
    Can use the <code>signupForm.get()</code> helper method.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_152.PNG" alt="capture_152">
    </div>
    <figcaption>Figure. Accessing Controls in HTML Template</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_153.PNG" alt="capture_153">
    </div>
    <figcaption>Figure. Whole Form Check in Template</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_154.PNG" alt="capture_154">
    </div>
    <figcaption>Figure. CSS Styles with added ng classes for form</figcaption>
  </figure>

  <h2 id="Section18">
    Section 18. Making Http Requests
  </h2>

  <h3>
    253. How Does Angular Interact With Backends?
  </h3>
  
  <p>
    You do not connect angular directly to a database. You do not enter credentials into angular
    since this would be highly insecure. You talk to a server by sending and receiving HTTP
    requests from a server. For example an API that uses REST, GraphQL, etc. Can also
    file uploads, analytics and other things. 
  </p>

  <h3>
    254. The Anatomy of a Http Request
  </h3>

  <p>
    The most important part an api is the URL (API Endpoint) and the Http Verb (POST, GET PUT, etc).
    Other parts are Headers ( Metadata such as {"Content-Type": "application/json"} ) and sometimes
    Body information with Http verbs such as POST, PUT, PATCH with data such as {title: "New Post"}.  
  </p>

  <h3>
    255. Backend (Firebase) Setup
  </h3>

  <p>
    Firebase is a whole backend solution that gives a RESTApi. We are going to create a realtime database
    to store information to practice with calling API's.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_91.PNG" alt="capture_91">
    </div>
    <figcaption>Figure. Firebase Console View</figcaption>
  </figure>

  <h3>
    256. Sending a POST Request
  </h3>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_92.PNG" alt="capture_92">
    </div>
    <figcaption>Figure. Starting App View</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_93.PNG" alt="capture_93">
    </div>
    <figcaption>Figure. Starting app.component.html</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_94.PNG" alt="capture_94">
    </div>
    <figcaption>Figure. Starting app.component.ts</figcaption>
  </figure>

  <p>
    In order to make a Http request within Angular we need to import a new angular
    module. This is the <code>HttpClientModule</code> and we need to set that in the
    <code>imports</code> of the <code>app.module.ts</code>. 
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_95.PNG" alt="capture_95">
    </div>
    <figcaption>Figure. Importing HttpClientModule</figcaption>
  </figure>

  <p>
    The data that is send to the api endpoint needs to be in JSON format but Angular
    takes a Javascript object and converts that into a json object.
  </p>

  <p>
    Angular relies heavily on Observables and Http requests should the observables. Observables
    are the perfect use case for Http requests. Angular forces the use of observables in this
    case so you must subscribe. You do not have to manually unsubscribe since this is done
    automatically.
  </p>
  
  <p>
    <span style="color: red;"><b>Important</b></span>: Http requests must be subscribed too.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_96.PNG" alt="capture_96">
    </div>
    <figcaption>Figure. Firebase View</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_97.PNG" alt="capture_97">
    </div>
    <figcaption>Figure. Http Request in Component</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_98.PNG" alt="capture_98">
    </div>
    <figcaption>Figure. Developer Tools View</figcaption>
  </figure>

  <h3>
    257. GETting Data
  </h3>

  <p>
    Now we will be getting back data with the <code>http.get()</code> method.We will needed
    to transform the javascript object from the <code>http.get()</code> method to something
    that we can use.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_99.PNG" alt="capture_99">
    </div>
    <figcaption>Figure. app.component.ts</figcaption>
  </figure>

  <h3>
    Using RxJS Operators to Transform Response Data
  </h3>

  <p>
    We can use observables operators to transform the data that we get from the observable. Using
    observables operators allows for the transform process to be switch out easily or adjusted. This
    also makes for leaner code with a clean subscribe function. 
  </p>

  <p>
    Use can use <code>pipe()</code> function to conduct this transform. In this example we will use <code>map()</code>
    inside of the <code>pipe()</code> function. Some additional notes. In order to push a new javascript object you
    use the <code>{}</code>, in order to keep all the key value pairs we use the spread operator <code>...</code>, and the
    <code>hasOwnProperty</code> is used to ensure you are access an object and not a prototype.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_100.PNG" alt="capture_100">
    </div>
    <figcaption>Figure. app.component.ts using pipe()</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_101.PNG" alt="capture_101">
    </div>
    <figcaption>Figure. Browser view</figcaption>
  </figure>

  <h3>
    259. Using Types with the HttpClient
  </h3>

  <p>
    We will insert the types for the previous request using a <code>post.model.ts</code> interface class with the known
    formate that we are looking for.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_102.PNG" alt="capture_102">
    </div>
    <figcaption>Figure. post.model.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_103.PNG" alt="capture_103">
    </div>
    <figcaption>Figure. Use of type in app.component.ts</figcaption>
  </figure>

  <p>
    Can also move the type to the return of the <code>.get</code> method like in the figure below. Additionally,
    the same works for <code>.post</code> as well.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_104.PNG" alt="capture_104">
    </div>
    <figcaption>Figure. Use of type in .get method</figcaption>
  </figure>

  <h3>
    260. Outputting Posts
  </h3>

  <p>
    We can output the <code>posts</code> within the subscribe button by setting the classes
    <code>loadedPosts</code> array to the returned data. Then we use <code>*ngIf</code> and
    <code>*ngFor</code> within the template to display the fetched data.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_105.PNG" alt="capture_105">
    </div>
    <figcaption>Figure. Set post data in class</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_106.PNG" alt="capture_106">
    </div>
    <figcaption>Figure. Html Template</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_107.PNG" alt="capture_107">
    </div>
    <figcaption>Figure. App view</figcaption>
  </figure>

  <h3>
    261. Showing a Loading Indicator
  </h3>

  <p>
    For a loading indication it can be use with a <code>isFetching</code> variable.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_108.PNG" alt="capture_108">
    </div>
    <figcaption>Figure. Template</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_109.PNG" alt="capture_109">
    </div>
    <figcaption>Figure. Loading Logic in Component</figcaption>
  </figure>

  <h3>
    262. Using a Service for Http Requests<br>
    &<br>
    263. Services & Components Working Together
  </h3>

  <p>
    Right now we transform the data within the component. So we will go through
    adding those transformations to within a service. this way the component is mostly
    related with template work. So we will create a <code>post.service.ts</code>.In this
    service we want to move the methods that do the http requests. 
  </p>

  <p>
    When we move the post requests though we have an issue with the <code>isFetching</code> and
    <code>loadedPosts</code>. So we need to fix the connection between these objects and the component
    that was displaying that data.
  </p>

  <p>
    <span style="color: red;"><b>Important</b></span>:<br>
    So the solution to this is to return the observable and then subscribe within the component itself. Now
    we have moved the logic for transforming the data into the service and keep the <code>subscribe</code>
    call within the component itself. this allows for the look of the component to be within the component
    and the data manipulation to be in the service. Additionally, if the component cares about the response
    then move the <code>subscribe</code> call to within the component.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_110.PNG" alt="capture_110">
    </div>
    <figcaption>Figure. post.service.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_111.PNG" alt="capture_111">
    </div>
    <figcaption>Figure. app.component.ts</figcaption>
  </figure>

  <h3>
    264. Sending a DELETE Request
  </h3>

  <p>
    We put the delete call into the <code>posts.service.ts</code> and then call that from
    within the component.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_112.PNG" alt="capture_112">
    </div>
    <figcaption>Figure. deleteAllPosts() in posts.service.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_113.PNG" alt="capture_113">
    </div>
    <figcaption>Figure. reset loadedPosts in app.component.ts</figcaption>
  </figure>

  <h3>
    265. Handling Errors
  </h3>

  <p>
    There are dozens of error that can occur when you call an api; server down, wrong data,
    time outs, etc. We need to be able to handle those errors gracefully. We can return error
    messages as the second argument inside of the <code>subscribe</code> function and return
    that to the user. Some useful parameters are status and error. The next section has another
    method of handling errors.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_114.PNG" alt="capture_114">
    </div>
    <figcaption>Figure. Angular Firebase Settings for Access</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_115.PNG" alt="capture_115">
    </div>
    <figcaption>Figure. Error in App</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_116.PNG" alt="capture_116">
    </div>
    <figcaption>Figure. app.component.ts error handling</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_117.PNG" alt="capture_117">
    </div>
    <figcaption>Figure. app.component.html error handling</figcaption>
  </figure>

  <h3>
    266. Using Subjects for Error Handling
  </h3>

  <p>
    A definition of a <code>Subject</code> from the rxjs docs. 
    
    <blockquote cite="https://rxjs.dev/guide/subject">
      "A Subject is like an Observable, but can multicast to many Observers.
      Subjects are like EventEmitters: they maintain a registry of many listeners."
    </blockquote>

    <blockquote cite="https://rxjs.dev/guide/subject">
      "Every Subject is an Observer. It is an object with the methods <code>next(v)</code>,
      <code>error(e)</code>, and <code>complete()</code>. To feed a new value to the <code>Subject</code>,
      just call <code>next(theValue)</code>, and it will be multicasted to the Observers registered to 
      listen to the Subject."
    </blockquote>
  </p>

  <p>
    This method of error handling could be useful if you send data to a api but
    don't subscribe to the response in the component. For example in the <code>onCreatePost()</code> 
    we are not subscribing to the response. We can use a <span style="color: red;"><b>Subject</b></span>.
  </p>

  <p>
    Within the <code>posts.service.ts</code> we can use the <code>Subject</code> from <code>rxjs</code> to provide
    a nice error response to the app component.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_118.PNG" alt="capture_118">
    </div>
    <figcaption>Figure. Subject error handling</figcaption>
  </figure>

  <p>
    Now we can subscribe to that <code>Subject</code> in places that needed to be subscribed. We also need to
    add a few house cleaning items. It is good practice to unsubscribe when the component is destroyed. With
    this is mind we will add a <code>private</code> <code>Subscription</code> class from <code>rxjs</code>
    and use it to subscribe and unsubscribe.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_119.PNG" alt="capture_119">
    </div>
    <figcaption>Figure. Subscribing and Unsubscribing to the <code>Subject</code></figcaption>
  </figure>

  <h3>
    267. Using the catchError Operator
  </h3>

  <p>
    You can use a special error handler from <code>rxjs</code> that is called <code>catchError</code>.
    Could use this to submit error data to an external service for monitoring and <code>throwError</code>
    is used to base on the error as an observable.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_120.PNG" alt="capture_120">
    </div>
    <figcaption>Figure. Using <code>catchError</code> and <code>throwError</code></figcaption>
  </figure>

  <h3>
    268. Error Handling & UX
  </h3>

  <p>
    Will use <code>onHandleError()</code> to allow for the error message to be toggles off.
  </p>
  
  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_121.PNG" alt="capture_121">
    </div>
    <figcaption>Figure. UX Example for Error Handling</figcaption>
  </figure>

  <h3>
    269. Setting Headers
  </h3>

  <p>
    We will be setting the headers withing the <code>posts.service.ts</code>. We can set headers
    on any http method. The last input is where this header information can be set.
  </p>


  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_122.PNG" alt="capture_122">
    </div>
    <figcaption>Figure. Setting Custom Headers</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_123.PNG" alt="capture_123">
    </div>
    <figcaption>Figure. Header On Request</figcaption>
  </figure>

  <h3>
    270. Adding Query Params
  </h3>

  <p>
    We can use the <code>HttpParams</code> object from <code>rxjs</code> to pass query parameters to
    the api. This is a bit more manageable with many parameters.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_124.PNG" alt="capture_124">
    </div>
    <figcaption>Figure. Adding Query Parameters with <code>HttpParams()</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_125.PNG" alt="capture_125">
    </div>
    <figcaption>Figure. New Pretty Response from Firebase</figcaption>
  </figure>

  <h3>
    271. Observing Different Types of Responses
  </h3>

  <p>
    So times you need more in detail information from the response. We can ask for the 
    full response with an extra argument in the HttpClient.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_126.PNG" alt="capture_126">
    </div>
    <figcaption>Figure. Using observe keyword in <code>HttpClient</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_127.PNG" alt="capture_127">
    </div>
    <figcaption>Figure. <code>HttpClient</code> options</figcaption>
  </figure>

  <h3>
    273. Introducing Interceptors
  </h3>

  <p>
    Can use <code>Interceptors</code> to modify multiple responses. Once setup the 
    <code>auth-interceptor.service.ts</code> and register it with the
    <code>app.module.ts</code> all out going responses will then run the
    code with the interceptor.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_128.PNG" alt="capture_128">
    </div>
    <figcaption>Figure. auth-interceptor.service.ts</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_129.PNG" alt="capture_129">
    </div>
    <figcaption>Figure. app.module.ts settings</figcaption>
  </figure>

  <h3>
    274. Manipulating Request Objects
  </h3>

  <p>
    The request object is immutable so you need to create a new object to 
    modify any information in the request object.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_130.PNG" alt="capture_130">
    </div>
    <figcaption>Figure. Modifying <code>HttpRequest</code> Object</figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_131.PNG" alt="capture_131">
    </div>
    <figcaption>Figure. Modified <code>HttpRequest</code> Header</figcaption>
  </figure>

  <h3>
    275. Response Interceptors
  </h3>

  <p>
    Can also interact with the response from an <code>HttpRequest</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_132.PNG" alt="capture_132">
    </div>
    <figcaption>Figure. Executing Code from <code>HttpEventType.Response</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_133.PNG" alt="capture_133">
    </div>
    <figcaption>Figure. Browser View</figcaption>
  </figure>

  <h3>
    276. Multiple Interceptors
  </h3>

  <p>
    We are going to chain two interceptors together. We make a new <code>logging-interceptor.service.ts</code>
    that logs some information. Then we chain those two together within <code>app.module.ts</code>.
  </p>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_134.PNG" alt="capture_134">
    </div>
    <figcaption>Figure. <code>logging-interceptor.service.ts</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_135.PNG" alt="capture_135">
    </div>
    <figcaption>Figure. <code>app.module.ts</code></figcaption>
  </figure>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_136.PNG" alt="capture_136">
    </div>
    <figcaption>Figure. Response Log</figcaption>
  </figure>

  <h3>
    277. Wrap Up
  </h3>

  <p>
    You should feel confident about using HTTP requests. Always remember that these methods, like get and post give you back an
    <span style="color: red;"><b>observable</b></span> to which you have to subscribe to actually kick of the request
    and to send it. Since it is an observable, you can use <span style="color: red;"><b>operators</b></span>,
    rxjs/operators to transform the data, log data, catch
    errors or whatever you want to do but ultimately, you need to subscribe and you can do this in a service
    or in a component depending on where you need to work with the response and in the subscribe method,
    you pass in a function to handle the data you get back and possibly also an error handling function,
    like this one. This is how you generally work with HTTP requests.
  </p>

  <h2 id="Section19">
    Section 19. Course Project - HTTP
  </h2>

  <h3>
    280. thru 284.
  </h3>
  <h5>
    (Named it ng-course-recipe-book)
  </h5>

  <figure>
    <div class="figure-image-div">
      <img src="static\images\capture_137.PNG" alt="capture_137">
    </div>
    <figcaption>Figure. Firebase Database</figcaption>
  </figure>

  <p>
    We setup the firebase connection within the <code>data-storage.service.ts</code> file.
  </p>

  <code-block language="ts" label="data-storage.service.ts" controls>
<text-area>import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { map } from 'rxjs/operators';

import { Recipe } from '../recipes/recipe.model';
import { RecipeService } from '../recipes/recipe.service';

@Injectable({ providedIn: 'root' })
export class DataStorageService {
  constructor(private http: HttpClient, private recipeService: RecipeService) {}

  firebaseUrl:string = "https://ng-course-recipe-book-61906-default-rtdb.firebaseio.com/";

  storeRecipes() {
    const recipes = this.recipeService.getRecipes();
    this.http
      .put(
        this.firebaseUrl + 'recipes.json',
        recipes
      )
      .subscribe(response => {
        console.log(response);
      });
  }

  fetchRecipes() {
    this.http
      .get<Recipe[]>(
        this.firebaseUrl + 'recipes.json'
      )
      .pipe(
        map(recipes => {
          return recipes.map(recipe => {
            return {
              ...recipe,
              ingredients: recipe.ingredients ? recipe.ingredients : []
            };
          });
        })
      )
      .subscribe(recipes => {
        this.recipeService.setRecipes(recipes);
      });
  }
}
</textarea>
</code-block>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_138.PNG" alt="capture_138">
  </div>
  <figcaption>Figure. App View</figcaption>
</figure>

<h3>
  285. Resolving Data Before Loading
</h3>

<p>
  Need to Finished Section
</p>

<h2 id="Section23">
  Deploying an Angular App
</h2>

<h3>
  341. Deployment Preparation & Steps
</h3>

<p>
  <span
    style="text-decoration: underline;"
  >
    Deployment Steps
  </span>
  <ol style = "margin-left: 30px;">
    <li>Use & Check Environment Variables</li>
    <li>Polish & Test Code (See Angular Modules & Optimizing Section)</li>
    <li>Run CMD <code>ng build --prod</code> (Uses ahead-of-time compilation)</li>
    <li>
      Deploy build artifacts (generated files) to static host (Since when
      compiled the files are only HTML, JS, and CSS
    </li>
  </ol>
</p>

<h3>
  342. Using Environment Variables
</h3>

<p>
  The environment variables are stored in the <code>src/environments</code> folder. These hold different
  key value pairs to set for production. When using the Firebase service you can store the Firebase API
  key within this variables.
</p>

<code-block language="ts" label="Example in `src/environments/environment.prod.ts`" controls>
<text-area>export const environment = {
  production: true,
  firebaseAPIKey: 'AIzaSyDb0xTaRAoxyCgvaDF3kk5VYOsTwB_3o7Y'
};</text-area>
</code-block>

<p>
  Then with the environment variable set you can insert those into the <code>auth.service.ts</code>. With this
  setup then the environment variables will be updated between local and production.
</p>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_155.PNG" alt="capture_155">
  </div>
  <figcaption>Figure. Use of Environment Variables in <code>auth.service.ts</code></figcaption>
</figure>

<h3>
  343. Deployment Example: Firebase Hosting
</h3>

<p>
  The command that builds for production is <code>ng build --prod</code>. Once you run this code the Angular
  project is compiled into the <code>dist</code> folder. (<code>dist</code> is just the default folder)
</p>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_156.PNG" alt="capture_156">
  </div>
  <figcaption>Figure. Files in <code>dist</code> folder</figcaption>
</figure>

<p>
  Commands to Deploy to Firebase
</p>

<code-block language="" label="Commands to Deploy to Firebase" controls>
<text-area>npm install -g firebase-tools
firebase login
firebase init #initialize firebase project
# Select option for hosting
# Select project to connect
# Select public directory that contains file to deploy (dist/ng-complete-guide-update) 
# Select single-page app option
# Existing html should not be overwritten
firebase deploy # deploy content of folder to deploy</text-area>
</code-block>

<h3>
  344. Server Routing vs Browser Routing
</h3>

<p>
  When deploying your Angular app, it's really important to make sure that your server (like S3)
  is configured to always serve the index.html file.
</p>

<h2 id="Section29">
  A Basic Introduction to Unit Testing in Angular Apps
</h2>

<h3>
  421. About this Section
</h3>

<p>
  This Section only provides an Introduction to Unit Testing an Angular 2+ App.
</p>

<p>
  It's NOT a detailed Guide about that neither is it a detailed Introduction to Unit
  Testing in general. Check out the "Further Resources" (last Lecture in this Module)
  to dive deeper into these topics.
</p>

<h3>
  423. Why Unit Tests?
</h3>

<p>
  Unit tests allow us to answer questions about the components that are created. Such as
  those in the table below.
</p>

<table>
  <tr>
    <th>Component</th>
    <th>Component Question</th>
  </tr>
  <tr>
    <td>
      <b>UserComponent</b><br>
      <code>[user]="selectUser"</code>
    </td>
    <td>
      Does the Component work as intended?<br>
      Does the Input work as intended from UserComponent
      to UserDetailComponent?
    </td>
  </tr>
  <tr>
    <td>
      <b>UserDetailComponent</b><br>
      <code>@Input() user;</code>
    </td>
    <td>Does the Component work as intended?</td>
  </tr>
  <tr>
    <td>
      <b>ReversePipe</b><br>
    </td>
    <td>Does the Component work as intended?</td>
  </tr>
  <tr>
    <td>
      <b>UserService</b><br>
    </td>
    <td>
      Does the Component work as intended?<br>
      Does the Inject from UserService to UserDetailComponent
      work?
    </td>
  </tr>
</table>

<div 
  style="
    border: solid;
    margin-top: 20px;
    margin-bottom: 20px;
    padding: 5px 5px 5px 5px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
    display: block;
  "
>
  <p>
    <b>Benefits of Unit Testing</b>
  </p>
  <ol style="margin-left: 30px;">
    <li>Guard Against Breaking Changes</li>
    <li>Analyze Code Behavior (Expected and Unexpected)</li>
    <li>Reveal Design Mistakes</li>
  </ol>
</div>

<h3>
  424. Analyzing the Testing Setup (as created by the CLI)
</h3>

<p>
  How should a test work? It should be a logical flow of how the 
  code will be run. So we need to bootstrap our application → setup
  the app module → run test tasks that the user might do or see. We will see
  how this is done in Angular. <b>Karma</b> is the default package that runs
  these tests.
</p>

<div
style="
margin:auto;
text-align: center;
text-decoration: underline;
"
>
  <b>
    Some Testing Functions and Description
  </b>
</div>

<table>
  <tr>
    <th>
      Testing<br>
      Function/Object/Code SnipIt
    </th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>beforeEach</code>
    </td>
    <td>
      This sets up the configuration that is completed before each test.
    </td>
  </tr>
  <tr>
    <td>
      <code>it()</code>
    </td>
    <td>
      An individual test that is run to test a single aspect of the component.
    </td>
  </tr>
  <tr>
    <td>
      <code>TestBed</code>
    </td>
    <td>
      Main Angular 2 testing utility object. So this is the testing environment. This does not
      have the <code>imports</code>, <code>providers</code>, or <code>bootstrap</code> properties that
      can be included with the <code>@NgModel</code> angular class decorator. This is because we are
      focusing on the app component.
    </td>
  </tr>  
  <tr>
    <td>
      <code>let fixture = testBed.createComponent(AppComponent)</code>
    </td>
    <td>
      This is the component (called <code>fixture</code>) that is being tested and is created within
      the <code>testBed</code>.
    </td>
  </tr>
  <tr>
    <td>
      <code>fixture.detectChanges()</code>
    </td>
    <td>
      This is a function to update the fixture to detect any changes. this has to be done because we are
      not running an actual browser.
    </td>
  </tr>
  <tr>
    <td>
      <code>let compiled = fixture.debugElement.nativeElement</code>
    </td>
    <td>
      This <code>compiled</code> object is now a normal document object model and be interacted with as such.
    </td>
  </tr> 
</table>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_139.PNG" alt="capture_139">
  </div>
  <figcaption>Figure. Default <code>app.component.spec.ts</code></figcaption>
</figure>

<h3>
  425. Running Tests (with the CLI)
</h3>

<p>
  Can run the testing suite by running the command <code>ng test</code> within the
  project folder. This will open a browser that shows the results. Additional option
  is <code>--code-coverage</code> that let you know the amount of code that has been
  tested.
</p>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_140.PNG" alt="capture_140">
  </div>
  <figcaption>Figure. Karma Browser and Terminal View</figcaption>
</figure>

<h3>
  426. Adding a Component and Some Fitting Tests
</h3>

<p>
  Will be creating a new user component with command <code>ng g c user</code>. We will
  display if the user is or is not logged in. 
</p>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_141.PNG" alt="capture_141">
  </div>
  <figcaption>Figure. <code>user.component.ts</code> and <code>user.component.html</code></figcaption>
</figure>

<h3>
  427. testing Dependencies: Components and Services
</h3>

<p>
  
</p>

<figure>
  <div class="figure-image-div">
    <img src="static\images\capture_142.PNG" alt="capture_142">
  </div>
  <figcaption>Figure. Side Note on Creating Component to Test</figcaption>
</figure>


























    </div>
    <div hidden>
      <br>
      <br>
      <hr>
      <h3>Blanks to Use</h3>
  
      <figure>
        <div class="figure-image-div">
          <img src="static\images\capture_.PNG" alt="capture_#">
        </div>
        <figcaption>Figure. </figcaption>
      </figure>
  
      <code-block language="" label="blank" controls>
        <textarea>blank</textarea
        >
            </code-block>
    </div>
    
</html>
